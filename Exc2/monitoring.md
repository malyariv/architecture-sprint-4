## Задание 2. Мониторинг
- **Проанализируйте систему компании и C4-диаграмму в контексте планирования мониторинга.**  
  Необходимо добавить мониторинги:
    - для получения RED-метрик с сервисов Shop API, CRM API и MES API
    - для получения USE-метрик с сервисов MES, Messages Queue, Shop DB, Mes DB

- **Добавьте в файл раздел «Мотивация»**. Напишите здесь, почему в систему нужно добавить мониторинг и что это даст компании.  
  Мониторинг позволит отследить нагрузку на сервисы, количество ошибок в запросах при их наличие, понять степень использования ресурсов и другие метрики, в том числе бизнес-метрики, как RPS. Знание о них позволит оперативно решать проблемы и выстроить стратегию развития.

- **Добавьте раздел «Выбор подхода к мониторингу».** Выберите, какой подход к мониторингу вы будете использовать: RED, USE или «Четыре золотых сигнала». Для разных частей системы можно использовать разные подходы.
    - использовать RED-метрик для сервисов Shop API, CRM API и MES API
    - использовать USE-метрик для сервисов MES, Messages Queue, Shop DB, MES DB

- **Опишите, какие метрики и в каких частях системы вы будете отслеживать.** Перед вами список метрик. Выберите метрики, которые вы считаете нужным отслеживать. Для выбранных метрик напишите:

| Метрика | Ярлыки | Сервис | Мотивация |
|---|---|---|---|
| RPS |status|Shop API|Отслеживать нагрузку + ошибки|
|Response time (latency) |---|Shop API|Удовлетворенность пользователя|
| RPS |status|CRM API|Отслеживать нагрузку + ошибки|
|Response time (latency) |---|CRM API|Удовлетворенность пользователя|
| RPS per user |---|MES API|Перед внедрением паттерна Rate Limiter или Back Pressure|
| RPS |status|MES API|Отслеживать нагрузку + ошибки|
|Response time (latency) |---|MES API|Удовлетворенность пользователя|
|CPU % for MES container|---|MES|Управлять ресурсами|
|Number of connections for instance|instance|MES db|---|
|Number of connections for instance|instance|shop db|---|
|Number of dead-letter-exchange letters|---| RabbitMQ |---|
|Number of message in flight |---| RabbitMQ |---|


- **Добавьте раздел «План действий».** Напишите высокоуровнево, какие задачи вы видите для реализации. Это будет драфт технического задания. Например, «Создать инстанс time-series базы с использованием такой-то технологии».
    - развернуть Prometheus и Grafana
    - настроить отправку данных в Prometheus из Shop API
    - настроить отправку данных в Prometheus из CRM API
    - настроить отправку данных в Prometheus из MES API
    - настроить отправку данных в Prometheus из shop db
    - настроить отправку данных в Prometheus из MES db
    - настроить отправку данных в Prometheus из RabbitMQ
    - настроить дашборды в Grafana и отправку алертов при необходимости